CREATE TABLE [dbo].[Competencias] (
    [Id] [uniqueidentifier] NOT NULL,
    [MesAno] [datetime] NOT NULL,
    [ValorBruto] [real] NOT NULL,
    [ValorLucro] [real] NOT NULL,
    [EmailEnviado] [bit] NOT NULL,
    [QuantidadeEmailsEnviado] [int] NOT NULL,
    [Situacao] [varchar](50) NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Competencias] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Empresas] (
    [Id] [uniqueidentifier] NOT NULL,
    [RazaoSocial] [varchar](100) NOT NULL,
    [Email] [varchar](100) NOT NULL,
    [DiaVencimento] [int] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Empresas] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[RegistrosEntrada] (
    [Id] [uniqueidentifier] NOT NULL,
    [HoraEntrada] [datetime] NOT NULL,
    [Codigo] [varchar](50) NOT NULL,
    [VeiculoId] [uniqueidentifier] NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.RegistrosEntrada] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[RegistrosSaida] (
    [Id] [uniqueidentifier] NOT NULL,
    [HoraSaida] [datetime] NOT NULL,
    [ValorTotal] [real] NOT NULL,
    [RegistroEntradaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.RegistrosSaida] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Veiculos] (
    [Id] [uniqueidentifier] NOT NULL,
    [Placa] [varchar](100) NOT NULL,
    [Modelo] [varchar](100) NOT NULL,
    [Marca] [varchar](100) NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Veiculos] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Usuarios] (
    [Id] [uniqueidentifier] NOT NULL,
    [Nome] [varchar](150) NOT NULL,
    [Ativo] [bit] NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [UserId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Usuarios] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_EmpresaId] ON [dbo].[Competencias]([EmpresaId])
CREATE INDEX [IX_VeiculoId] ON [dbo].[RegistrosEntrada]([VeiculoId])
CREATE INDEX [IX_EmpresaId] ON [dbo].[RegistrosEntrada]([EmpresaId])
CREATE INDEX [IX_RegistroEntradaId] ON [dbo].[RegistrosSaida]([RegistroEntradaId])
CREATE INDEX [IX_EmpresaId] ON [dbo].[Usuarios]([EmpresaId])
ALTER TABLE [dbo].[Competencias] ADD CONSTRAINT [FK_dbo.Competencias_dbo.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresas] ([Id])
ALTER TABLE [dbo].[RegistrosEntrada] ADD CONSTRAINT [FK_dbo.RegistrosEntrada_dbo.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresas] ([Id])
ALTER TABLE [dbo].[RegistrosEntrada] ADD CONSTRAINT [FK_dbo.RegistrosEntrada_dbo.Veiculos_VeiculoId] FOREIGN KEY ([VeiculoId]) REFERENCES [dbo].[Veiculos] ([Id])
ALTER TABLE [dbo].[RegistrosSaida] ADD CONSTRAINT [FK_dbo.RegistrosSaida_dbo.RegistrosEntrada_RegistroEntradaId] FOREIGN KEY ([RegistroEntradaId]) REFERENCES [dbo].[RegistrosEntrada] ([Id])
ALTER TABLE [dbo].[Usuarios] ADD CONSTRAINT [FK_dbo.Usuarios_dbo.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresas] ([Id])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201801260141168_AutomaticMigration', N'GEA.AvaliacaoTecnica.Infra.Data.Migrations.Configuration',  0x1F8B0800000000000400E55DDD6EE3B815BE2FD07710745964A32483026D60EF22E324BB4127C9344E82DE0D188976889528AF44054917FB64BDE823F5154AD91425FE49D49F634F30373314F9913CFCCEE121798EE77FFFF9EFE4A7D728745E6092A2184FDDE3C323D781D88F0384975337238B1FFEE6FEF4E39FFF34B908A257E7B1A8F729AF475BE274EA3E13B23AF5BCD47F8611480F23E427711A2FC8A11F471E0862EFE4E8E8EFDEF1B10729844BB11C677297618222B8FE07FDE72CC63E5C910C84D77100C39495D32FF335AA73032298AE800FA7EECF176787672F2044C007F13DF431F2C1E1155E24E0F01C107048B1087C25AE7346ABD0E1CD61B8701D80714C00A1833F7D48E19C24315ECE57B40084F76F2B48EB2D40984236A9D3B2BAEDFC8E4EF2F97965C302CACF5212472D018F3F31817972F34E6277B940A9482FA8E8C95B3EEBB558A7EE2C8E5690D05547C075E4FE4E676192D73508FE9CD645F870B36C8715A403A7A6FE016712255CFEE7C0996521C91238C5302309080F9CAFD95388FC7FC0B7FBF85788A7380BC3EA34E844E837A180167D4DE2154CC8DB1D5CB0C95D05AEE389ED3CB9216F5669C3E69C21FAF71BDA37780A21278957DBFC1AA667382E202829E13DE57A6B984710C6C9E724231C6A4E9532EC08F425A3FCE8097441D72EBCC02F88D2AB80FA1CC72104B835D63F334079188000AE515309F60A934F27AD41E788DA10CA363E4F92D099BACE3578FD02F1923C4FDDBF52C375895E61501430E0074A4F4AE2A94B92AC8B6456094C414FE2E4F66B06029092A4037D6EC00B5AAE75563F38D7B983E1FA7BFA8C561BC358D5D86FBCDE6512477771289A86E2F3B7799C253EEDFE3E36D7B907C91212718813AFB43CB5F6888FA3972D62281FD80EDD817F83781ED375096B14E2F868248DA05ABDFD6ECF1178CCA918414C7A1A9391B4F10E2E510E996AF5B1F84A9522A17DEB74D25085EB5CA197A67A85FEDA0EF821CD40820CE3651F75E3943E29E393BFEBC6656D33A4C9F6B41D12DA07B621BFC409E032EDE9D0CCE8A962B9FDBDF911223F0BE39E82D8DB1DBE87459177FA26CBD3D604CE010AEA07BDAEF14D516E75E8DA8A4693A8AFDDD630326259499DD7354B9D5569947A51AF978F252DC120D6728DF5C16D2593E71047BF7BBA1661CF139BC49DDDB45E8A7A8F67104CBA556F3E3A6918D7F85EBAC5503EB0567D0DE98CB77F9058CBBFCE5919AB5F90BCC77477E2B0D362936C3AECC89B6927156627949E2ACC503EB00ADFC43989CC941EC7EF3F23E8A5F735E5306EFF430A93DDDC7BEB4E0E2DCEF6F2BE6A3AFBDBA8E1599AE67756F960F40E021F9038C70B1C3896E7990D13352688F292AA1D5A5145A3239BBA7F5124D9DC0B374D652F5C8222FAB1824ED5142610E7CF5233BA16141861A2EA34C23E5A81D06E2052734BA390AF0FEF48FE720E571007749C7602B7194145D1D481F0FE24BBD524AE895721931DC7F40E6613071ABC4D956FEC9CD09E6D0D075D6B660FCCBDDA616D9181B50B61330ECD89E95DF928FB46B6D648B94D18C5E629EE58D90B77E6B662F3A481BC83CD93046E3382CACDE4BB704CDEE04DAB6EDCEDCBD5E6AEB23D978CEF03DBDA370D03D802770C02DD877D52F7606C5AE1DAD7E3729585F8137BFED4BD3B6F8D433583D8028F6A04BC7B5CDA78FB7978166D0193E294261D8879F89672E6A6872876EC4ED9895066468E3F8744656AEA3AE55943C73A8564221413940E86D3AB0182DF84F05D578152F6655B48E64C1A01D9F70638B61BE926C9F7F20688F2A95881E01B840451218B3A33E5CDAA52BBE1794BE6B3FDE9904F4AB7688A9ED89F072BB8259FE49B18511C2D4465B818370BCCE2A0D3E1A8A3139E967E1D0E372D16A6872095CBC866CE697DF356DEF9509C93FDF10A6EA9DEBD45A55C0CA922AA752DAD9CCBCAD04BB352230A933B398EDA69E3E65431347A4BD6FE52651AE2C65623923A0FA99F588ABB3BBE9BF36F136F13B2CD0A269E21B67B720D562B849795586F56E2CC3781DEB31FE6ED839DA30D86E7A79A98673E5ADE138913B084D2D775A40ABC44494AF25BD727905FA8CE8248A966F25D0C9B64D1ABC63D51D7B0D83E8B46F9DF370D2D03E0050747F50619EE259D7F1E2BB71605D4934C6DEDE481F9200489E69D6016875984CDEEADB97511375D4528CAEC51AA61D355A46A794B34163BADA0B1727B343180BA8A277EB14734865157C18D95ECFB2923ABABC065691B19F043872800E359C48C253E8A54E1C42F2AE2C493144039FF282A28D94659ADAD949E9BDA3114DEB0C15828BBB1E5388A2E04265761840F2DD54AA34FADA824060E0B5C123F7DC7F4547CCF3168DA70E4B0A06B23C238B4156261AB30C2077BBC221EB60A5594B5D8A1CA4B64618332DF2D9BB13EB46D96CEAB63525FDB430BE21BDA8F477B768497496F38D99BB1AA818D8A3BC5CA5BEC23EA5B9DB09B343FE599B1F78EBEFC7C3F06710D371C169435B61C87AC2C5AB00AC08A5A9C4358E89F700E61652D5036817C02C8A6E83B2621BFA9198384C515727B121A5B8E43C24DBC5BB5FDA6C41E81C5AE552158D1FB6CE645005B15A828DB7B3A2B97597215DE3BBFD4922EAF26EC22A9F9D70B949BA54D15D7A1A27A41417EAB347F4B098C36D49FFF16CE4244E75B56B806182D604A3651A0EEC9D1F189F45B07BBF3BB035E9A06A1E622CEFAC707AE70005FA7EEEFCE1FDB0F75CD30FA2D83287F02450B04939EBF03100002C930BF0390C0DC4FEAFD2B009D6074BF01F084C8D0F9FF08B78794B3FF5FE876FB0C1225C5B06F08B04A0C336F738853E7EA5FDF38CA81739B50353E758E28A9878802B624D600E9F77BAD8D9A6C781D41D6F9157D72DD8702D566B277518B6D70A639FD7AAFB9A3C982EE6CCEC52CE8816C9492E3DCC94671945E36EAA3D9CBA654DABD67BE90D3DACF8D11725A3BF91FC68CD64E2C53D0769E6DE6B4D2BDE69990E539D4162AE6700E865ACDD01C6CB7DF0275CCE98C7B4D9D6A76A176393AECA742EE6097E3CD2E6D8262F6616F798F40D5FE297FFCD0D225F2DB184FD72F6DA65340B9F9117FEC0C961D0C191F3A4DAFC3B2DAB0457090BAA4F90D9102B5F52CBBEF3A9D8EBB595D32DA76C99E985FEE76C29EEC4B0ADC40FB0B77C1BAA4CEEDFA7E627E9FDBBD7DA44D1ADB406B2FBC74744D7FDB750ED4071DBF370FA477BEF2464E8AF69697D09858D69457B679DDA3FEF153AEF31BBFB82E7CDF9479569778A6EBC318D22FE32B9B90D28F5243D75F633E8EA95FCBD4B5DA3E5BA5B7D565B7E97A31A6CDC8F8DC8C2BF8FC8B0EDF94DBF20E897112D784C8E0164948DA6C26132FF620E1ADC3B4EA4E09C670BE1D4F6193F44708EEDA1D760C9A9AD655212453208420ED68EA59D7A96AF642257D6894B43235E286FA0595FF55847A26295A9610F9FF3182A12F7804BCCE155EC4856F228DA8A8A2C476104A5802CE128216C027F4B30FD374FDD3668F20CCD6227D82C115BECDC82A2374CA307A0ADFAAC2C81D9CBAFED7B973E29827B7ABF58F740D31053A4C94DFDBDDE2CF190A033EEE4BCDBD9D0122F79C7E86B47CB3965489095CBE71A49B185B0231F17187EF1E46AB9082A5B7780E5E6097B13DA4F00B5C02FFAD089C3283342F8428F6C93902CB044429C328DBD37F520E07D1EB8FFF07F4FABC035C670000 , N'6.2.0-61023')

