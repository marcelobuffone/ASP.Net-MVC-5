CREATE TABLE [dbo].[Competencias] (
    [Id] [uniqueidentifier] NOT NULL,
    [MesAno] [datetime] NOT NULL,
    [ValorBruto] [real] NOT NULL,
    [ValorLucro] [real] NOT NULL,
    [EmailEnviado] [bit] NOT NULL,
    [QuantidadeEmailsEnviado] [int] NOT NULL,
    [Situacao] [varchar](50) NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Competencias] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Empresas] (
    [Id] [uniqueidentifier] NOT NULL,
    [RazaoSocial] [varchar](100) NOT NULL,
    [Email] [varchar](100) NOT NULL,
    [DiaVencimento] [int] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Empresas] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Usuarios] (
    [Id] [uniqueidentifier] NOT NULL,
    [Nome] [varchar](150) NOT NULL,
    [Ativo] [bit] NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [UserId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Usuarios] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Registros] (
    [Id] [uniqueidentifier] NOT NULL,
    [HoraEntrada] [datetime] NOT NULL,
    [HoraSaida] [datetime] NOT NULL,
    [ValorTotal] [real] NOT NULL,
    [Codigo] [varchar](50) NOT NULL,
    [VeiculoId] [uniqueidentifier] NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Registros] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Veiculos] (
    [Id] [uniqueidentifier] NOT NULL,
    [Placa] [varchar](100) NOT NULL,
    [Modelo] [varchar](100) NOT NULL,
    [Marca] [varchar](100) NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Veiculos] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_EmpresaId] ON [dbo].[Competencias]([EmpresaId])
CREATE INDEX [IX_EmpresaId] ON [dbo].[Usuarios]([EmpresaId])
CREATE INDEX [IX_Id] ON [dbo].[Registros]([Id])
ALTER TABLE [dbo].[Competencias] ADD CONSTRAINT [FK_dbo.Competencias_dbo.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresas] ([Id])
ALTER TABLE [dbo].[Usuarios] ADD CONSTRAINT [FK_dbo.Usuarios_dbo.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresas] ([Id])
ALTER TABLE [dbo].[Registros] ADD CONSTRAINT [FK_dbo.Registros_dbo.Empresas_Id] FOREIGN KEY ([Id]) REFERENCES [dbo].[Empresas] ([Id])
ALTER TABLE [dbo].[Registros] ADD CONSTRAINT [FK_dbo.Registros_dbo.Veiculos_Id] FOREIGN KEY ([Id]) REFERENCES [dbo].[Veiculos] ([Id])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201801242208481_AutomaticMigration', N'GEA.AvaliacaoTecnica.Infra.Data.Migrations.Configuration',  0x1F8B0800000000000400ED5C5D4FECB819BEAFD4FF10E5B26227C051A52E9AD91567802DEA01CE32807A77641233584D9CD9C441D0AABFAC17FD49FD0BFB66E238766C67F235B3C3527103FE786CBF7E5EFBB5F398FFFDE7BFD31F5FA3D079C1494A623A738F2687AE83A91F07842E676EC69EBEFB8BFBE30F7FFCC3F43C885E9D87B2DCA7BC1CD4A4E9CC7D666C75E279A9FF8C23944E22E227711A3FB1891F471E0A62EFF8F0F07BEFE8C8C300E10296E34C6F33CA4884D77FC09FF398FA78C532145EC5010E539E0E398B35AA738D229CAE908F67EE4FE7A793D3171412E4A3F80EFB94F86872499F123439430C4D008BE157E63AA75004BAB7C0E193EB204A63861874FEE43EC50B96C474B95841020AEFDE5618CA3DA130C57C502755F1B6E33B3CCEC7E755154B283F4B591C75043CFAC40DE6D5ABF732BB2B0C0A263D07D3B3B77CD46BB3CEDC791CAD30835927C875EAED9DCCC3242F6B31FC19942574524CDB44423A701ACA1F082601E1F29F03679E852C4BF08CE28C25283C70BE668F21F1FF86DFEEE27F603AA35918CAC38081409E9200495F93788513F6768B9FF8E02E03D7F1D47A5EBDA2A826D5E163CE08FC7E0D6DA3C7100B92788DD5AF707A4AE312024889EF80EB9D611E5018279F938C09A8053865D813E84B06FC1808740E73179ED31702F42AA13EC7718811ED8CF573868087010AF01A35ADC15E52F6E9B833E882C01A026C13E364098CD475AED0EB174C97EC79E6FE1916AE0BF28A83328103DF033D81C4339725591FCBAC129CA281C4C9D7AF390A50CA921EF4B9462F64B9F65973E75CE71687EBFCF499AC8A8551F6D86FA2DC451247B771A82E0D65F6B7459C253E347F17DBCBDCA1648999DAC5A957AD3C8DEB91E8C7A0B588A37CE075E816FD13C58B18E6256C7088A3C32D790478F5EE9B3D23E821A76284291BB8986CC91BEFD30C25244E8DEEC8334DAE58CB122E56BA613DBF74D35E2EC8C106BA2047F9C02E781DE75CB13BC17676A353465E066FD0E36C69106C27EF6F57ECE086F5DDD0E6A6BDDCF0162F4931EC417E58C27C6047FC6B9C20306F023C1A1C98E7580B4446405A47E67730A5E1C0C87C0E07F6E5EEC3DE074CFC2C8C07CECDBB0D9E4BBF32AD13F53C6DA1D00A98568AA69E71E337F74C1432F48CE7D97B561618B486891E0C5AC238CA075EC1BE8630E2DD07D46BFB37AD2CDB6A1725BFC57007AC22368F384DD3FC0C96535E8DAEC5B2A1F6E89C06CE8658A3308A14A9806980E96405DC861ECCDC3F69E3B4A38A8344852AD63315F54843058FC0091CB5E088398705087C8C50A6BB0F8113D90A85CD1DA8556BE977B9DD4503F59C33BCC23480FE351BB44DCBD226A57740B4535B12369967EA49E468E68CE9A2C636C38DB736D52C2BF7BEEDF9D374DFB3330E357462073C6A30F07BE09216B7D8A6DA1AA3F499E706580339ABA3CF56F8631BD90EC8631B7DFFA6774999329CDB38B7F5E0519A5B1112F6A08C16B4EE9E32B591ED9232B5D1EF11658AD827FFF80A357052DE44D52275F171563B0CDCA7989F07521EBAD5A990E32F30D3F7C3D475AAC8CBB4B769AC52A1B81F9A60C4E2B601A2BAD4D5204484B601A29C631346C5EC0D209C1F260CE1743508693EB5F154075BA994E58EAC4EB1CD61ACE8BC6C3F8DAA9B035709A79ACAFAE94C1D660B1318BF8CE966D81897B58ECCA461A8E46E3049532CB61DB3E8771EBA4D9AE38B7611468BDEB78B292420C9C5C6B383F0AB063B1837CD76DBA6D4FDCAB9DBD8A1BE510EB44379BA152BBCC89B7A854887274C3D8B9A677A85562B38C64BEA1E9EE22C0A69CFFCBB4577794B5460787E6A50B988DE8A96589CA025AEE5AE2F50F1054952965F003CA2FC6C3F0F22AD986D3FB3ACCA65AB862D4B9FC172BD2E2BE5BF17155B4A9E944D4F0F0D38EE058C3FFF3ABA3605362F3A7A6D279762A11025864BAD791C6611B5471BF6DAA552464628D3DAA3C8421919494EEF88C6D5321A1A4F6F8FA64A66643C35A73DA2553823835B0BB56FA7D2D2C8C0556A171B88E3AE6A00EB29D88EA5DECFC9706A8E8E38F56A0EA0C5C49A0BD6D6C6BA5BB7727AB1796DC3E12DFB6B0B67B7D6DC8EA32B52141946C9E8E856067FEA4425552AA27049CDFA1DD35304DEDBA06779F4E94E4F6BCDEDD0B39069C8F58B94F6085C722143F0A4DF669D2C7517325099F63BA67315D96E83CFE218DE9DD0F6AADB61B4A2779061948C6E785CF35047E3C91D232CAE7AD0222C9EDE1EAD943EC848655A873E554A06A54B55F2FFE39D561E280EA9DB7040CB39BA85FF596B6EC7FDF8C77A19802775381CF12FEFCAE188A7754029BEA32B2045D2BB27A17625512F225A175713B52B8829BF0ED8FCEA48BB1F288AB80E98EA8504F9DDC0E22D65382A08BBF8259C8704C65B15B842943CE19415C213F7F8F0E8B8F646697FDE0B79691A8486EB94D68F862E69805F67EEBF9C7FEF5E5D9351F24B8649FE71833C119C0C7CBF132086D938EF77129C6F6D835FEFF48231BDDD79246CEC773B847687ACBFDA7981F5E919259A7E71A8AC5027869DB739C48973F9F76F02E5C0B949C08D4F9C4320F518B2A296C41AE1D9CCBBF646C32B161341D67AB0216F54C60235BE40E9E316BBE08CFD9DC7BBE68CFCECC238AF3D9613E551459F95739FD623F559C6607BEF82AA0D6F21F68BAB2D2671E0EC191E33F48E52B4C70CC3E21DE53143AF40457DCA30522CA03D54184CF916DEBC874E6417E3EF970F0DD1C68FB591ABCAF7D150655DFB6831C7F8D4E9AF5A1771E83091A8084DFAA8DD7B09FCEC5FD3B625447F176AE12ECAF391E65EB95CE8AB58DF770E34AB35F68F07AD55E32391A00AF85A687C0F27939164BE3B6440C3F7A4F728FD16C1C53852EF1DCFBBFDDBC2879877B37E5B97C5593E02996E859B45D9C5053AC4298FF94C17F14993EED526DB6E526D9BDAB06A612D9AEE2649B709DF2665B60ABE1BF5DEA616ECF24D8B1CBC490D6E6AC02634DD8156BC36A98A56A98536DC242ADF572D78DFA11A7C4CD36FEE9DCEBBEF60EB4EA28A29F64EC65D7338E5D3F32E86D941A5AD7FFA84DD43FAB78CB06BA5645941E4FFA491625FD93744994BFA14975B57AD476511ED231B83032B43A7099CF991CF20DBC769BA7EE6FD80C26CCD99471C5CD29B8CAD320643C6D163F8261B23DF069BDA5F4BD1D53E4F6F56EB7F9530C610A09B243F65DFD0CF190903D1EF0BC329DB0291EFAF3F61482FE612B66B86976F02E93AA62D81B8F944587087A3550860E90D5DA017DCA76FF729FE8297C87F2BBF60DB41364F846AF6E91941CB044529C7A8EAC39FC0E1207AFDE1573E982A9F9D540000 , N'6.2.0-61023')

