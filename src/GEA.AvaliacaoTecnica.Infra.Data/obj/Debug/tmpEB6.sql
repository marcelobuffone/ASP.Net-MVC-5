CREATE TABLE [dbo].[Competencias] (
    [Id] [uniqueidentifier] NOT NULL,
    [MesAno] [datetime] NOT NULL,
    [ValorBruto] [real] NOT NULL,
    [ValorLucro] [real] NOT NULL,
    [EmailEnviado] [bit] NOT NULL,
    [QuantidadeEmailsEnviado] [int] NOT NULL,
    [Situacao] [nvarchar](max),
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Competencias] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Empresas] (
    [Id] [uniqueidentifier] NOT NULL,
    [RazaoSocial] [nvarchar](max),
    [Email] [nvarchar](max),
    [DiaVencimento] [int] NOT NULL,
    [Foto] [nvarchar](max),
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Empresas] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Usuarios] (
    [Id] [uniqueidentifier] NOT NULL,
    [Nome] [nvarchar](max),
    [Email] [nvarchar](max),
    [Ativo] [bit] NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Usuarios] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Registroes] (
    [Id] [uniqueidentifier] NOT NULL,
    [HoraEntrada] [datetime] NOT NULL,
    [HoraSaida] [datetime] NOT NULL,
    [ValorTotal] [datetime] NOT NULL,
    [Codigo] [nvarchar](max),
    [VeiculoId] [uniqueidentifier] NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Registroes] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Veiculoes] (
    [Id] [uniqueidentifier] NOT NULL,
    [Placa] [nvarchar](max),
    [Modelo] [nvarchar](max),
    [Marca] [nvarchar](max),
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Veiculoes] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_EmpresaId] ON [dbo].[Competencias]([EmpresaId])
CREATE INDEX [IX_EmpresaId] ON [dbo].[Usuarios]([EmpresaId])
CREATE INDEX [IX_VeiculoId] ON [dbo].[Registroes]([VeiculoId])
CREATE INDEX [IX_EmpresaId] ON [dbo].[Registroes]([EmpresaId])
ALTER TABLE [dbo].[Competencias] ADD CONSTRAINT [FK_dbo.Competencias_dbo.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresas] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Usuarios] ADD CONSTRAINT [FK_dbo.Usuarios_dbo.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresas] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Registroes] ADD CONSTRAINT [FK_dbo.Registroes_dbo.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresas] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Registroes] ADD CONSTRAINT [FK_dbo.Registroes_dbo.Veiculoes_VeiculoId] FOREIGN KEY ([VeiculoId]) REFERENCES [dbo].[Veiculoes] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201801190359078_AutomaticMigration', N'GEA.AvaliacaoTecnica.Infra.Data.Migrations.Configuration',  0x1F8B0800000000000400ED5CDD6EE3B815BE2FD0771074D516592B99B9D90DEC5D649C641BEC2499C649D0BB0123D10E5189D24A54E0B4D827EB451FA9AFD0238BA2485194F51379EC4D919B843F1FC9C3EF9087D4C7FCF7DFFF99FEB40E7CEB05C70909E9CC3E991CDB16A66EE811BA9AD9295B7EF7BDFDD38F7FFCC3F4C20BD6D66351EE63560E6AD264663F33169D3A4EE23EE300259380B87198844B3671C3C0415EE87C383EFEC13939713040D8806559D3BB943212E0CD1FF0E73CA42E8E588AFCEBD0C37EC2D32167B141B56E50809308B97866FF7C7136397B413E412E0AEFB14B898B26577419A3C939626802580CAF996D9D4111E8DE02FB4BDB4294860C31E8FCE94382172C0EE96A114102F2EF5F230CE596C84F301FD46959BCEDF88E3F64E373CA8A05949B262C0C3A029E7CE40673AAD57B99DD160605935E80E9D96B36EA8D5967F63C0C22CC60D609B2AD6A7BA7733FCECA1A0C7F0E65099DE4D33691908EAC86F247824940B8ECE7C89AA73E4B633CA3386531F28FAC2FE9934FDC5FF0EB7DF80F4C6734F57D79183010C8531220E94B1C463866AF7778C90777E5D996A3D673AA154535A90E1F734AE0F71B681B3DF95890C469AC7E8D93331A1610404A7C0F5CEF0CF388FC30FE14A74C402DC029FD9E409F53E0C740A00B983BFF82BE10A05701F5290C7D8C6867ACBFA50878E8210F6F50930AEC15651F3F74065D105843806D629C2C8691DAD6355A7FC674C59E6172D0DAB62EC91A7B450A477E007E028B67368BD3169688629CA08144C9D6AB39F250C2E21E74B9412F64B5F1D1FACED9D61DF637F9C93389F28550F6D0AFA2DC651C0677A1AF2E0545F6D74598C62E347F1F9ACBDCA3788599DAC5A953AE348DEB8FE8C7A0B587A3BCE375E70EFD13858B10E6C5DF810380D38EDECA39418F19D1024CD9C0A5E13264E32F0B2339F44392A2988449AD47F3CC3A6FAE64092F2D3CB99A5F787A2F2FE66003BD98A3BC632FBE0933AEFC2EDCF78C9197C181C2C16EB51D1CB3BAC59A1CB79763DEE115C9873DC8330B9877EC9A7F0D6304E68D814783A3FB0C6B81C81B206DC2FB7B98527F30D41CCEFDABF1B7C9474CDCD40F07CEC6C12E0C8527D5AD0CD53C6D69D00AD4AD0D4D3DE3C66FEE992854D3339E67EE595160D0AA257A3068D1E228EF78CDFAE2C38847F7E88DB9C75F38AE51BC83C10C58124CF43E4B92EC5C96F1570D97C51AA0F6E8827AD6965021B7811468802580B62402A2420F66F65FB4719A51C5C9A044158B938A7A6257697E4BCFB18F19B6CEDCFC7E738E121779BA99C1369E9A029E816338DBC189750E0B11F81AA14C77230247C008F9CD7DAF546BE97F59B74403D59C731C61EA41FF9AE7A24DCBD266A57740B453B1D736F34C1D8957CD74ABBBF73191A3F112A82488726DDC9E7A4DD7478740BF86FEEF80820D73730834D4421F134BCC71504991F260D39E7DC6F0E910A867EAFC0E78679A8F83225D11536E258716E2BE11E9AA91B1842BE2DDBD255DA5F3BB245D653EDA342D9D317740BA3CEACB3E3D430D1C17F75F950387F834AD9D691E12CC8F35098F51AB5CCAF01798E9DB79625B65CC59B7356BB454A1B877D6C18885700B44793FAD4188D8740B4431D57518A5CB6D01E1735E8721DCAB0221CDA7369EF27C2E95325CEE5529B63D80179D97EDA751757BC82EE19453595D0AD461B63041ED7742DD0C5BC3CAD681A5340C95DC0D26690A25C7318B7E75A3DBA439C66917E548BD973CA3C114C6B866643B08BF6AB043EDB6DB6EE3ED6F87EA562B2195CB446B3B14E77AB1C28BBCA9934B9478C2D4316899A6D7288A085D49DA269E622D7261D3FCBB4577714F9063386E52A3F111BD152DB130462B5CC9DDDCFBE24B12272CBBFA7842D9ADC6DC0BB462A6FDCCB02A17ADD66C59FA0416EB755129FB3DAFD852F0A56C7A7A84C0712F61FCD9D7E48D2970FDA2A3D7B632211AF2515C7337370FFD34A0E678C75CBBD009C908455A7B1459262423C9E91DD1B8564843E3E9EDD154C1908CA7E6B44734CA86647063A1F6ED944A2219B84CED620371FA510D603C1499B1D49B49194ECDD111A74EC501B498587341ED34A1BA752BA7175BCE180E6FD85F5B38BBB1E6388EAE0873641825A3A35BD5F853272AA9D21A854B6A567BCC5C632343E529BF63828BD07D0C821787A7EE0437D61C87E0B96645AE9FA7EC96D25C6E2263F0A4FFAFD6ADC85C86D863B0591CE3BBD3D95C751C3E2B420F1946C9E886C7C51E55349EDC3142E3720F2D42E3E9EDD10AC5878C54A475E85379D9A674C97C0767C67AD71E288EA66338A0E11CDEC2FF8C35C7713FAE599001785287C315572428872B9ED60125171C282079D2C19350BBD2A81611AD8BAB8DCA15C6945F276C7FB3A5DD2FE4456C0B4CF542BCEC6E61F19A301CE4845DFCEACF7D02E32D0B5C234A963861B9FEC6FE707CFC7DE585D7FEBCB67292C4F36BAE630C4FAED429DB818E28A5E4D71493ECFB0759121C0F7CE0E42186D9DB3C708A71B67B0D7EDED40BA6EE71D313616FFDB089D0EE90D5674DF405D6A06714FF2940EB3FCB68BD9E2EE974D03E4F5D510FAF67F6BF3610A7D6D5DFBF0A9423EB3606FF3CB58EADDFDE447CD9924E9D5F171D9E9BD5BCE71938F392E87F1052EDBB9C3ECC965FE50CEBD10E98547BA83E0826C96F4AF68442CADB903EEBEC7B5BC7EACFC00741BF9A7713BD8306EDDDC4B0F0437937D11B4A7D3731C82FB4B711BD682D5006D1FABDB958BD3EEC103C4C51F90FE29FAAE41F0625ABF5F76D77EFAFC817D28F1D4B46352950BF4700BD4480E64F6D6389EC0F4259DA4555FFED69A3A802FB0AF9F79D3ECD2A90FDA3506B45FCB7E74FA9C3ECA587DE77E6347C9FDA63DA6CD3B40B81DE8EB5E6DF9636E64F1DDF9636FBA04AD7C57ED599336ACDB749CDF36B7D88CD9EB2D9CE63B22635AF498CDEA445AF6BC3A86C3528D59B84EA75F82681B651C6DEA862AF6BA1C8C5DBDB10DE6B16B9D7B5C0336B1A185F035F99564583D542F35E2796DF578D7BDFA1D67899A64BDD3BFD7ADFC156DD441579EC9D3CBDE271CA27F15D0CB383FA5CFF240BFB87F4CF3661FB4AC8AA84C8FEF526C5AEB2738832577419167B58A5474511EDCB2083633A436731234BE432C87671926CDEE93F223FDD70E6097B57F4366551CA60C83878F25F6563641B6153FB1B89BDDAE7E96DB4F94F166F3104E826C9EE166EE9A794F89EE8F765CDDD820122DB617FC6909ECF256CD80CAF5E05D24D485B0271F389C0E01E07910F60C92D5DA017DCA76F0F09FE8C57C87D2DBEAC9B41B64F846AF6E93941AB180509C728EBC39FC0612F58FFF83F2939D83973560000 , N'6.2.0-61023')

