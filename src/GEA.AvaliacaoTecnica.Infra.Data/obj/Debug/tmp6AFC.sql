CREATE TABLE [dbo].[Competencias] (
    [Id] [uniqueidentifier] NOT NULL,
    [MesAno] [datetime] NOT NULL,
    [ValorBruto] [real] NOT NULL,
    [ValorLucro] [real] NOT NULL,
    [EmailEnviado] [bit] NOT NULL,
    [QuantidadeEmailsEnviado] [int] NOT NULL,
    [Situacao] [varchar](50) NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Competencias] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Empresas] (
    [Id] [uniqueidentifier] NOT NULL,
    [RazaoSocial] [varchar](100) NOT NULL,
    [Email] [varchar](100) NOT NULL,
    [DiaVencimento] [int] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Empresas] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[RegistrosEntrada] (
    [Id] [uniqueidentifier] NOT NULL,
    [HoraEntrada] [datetime] NOT NULL,
    [Codigo] [varchar](50) NOT NULL,
    [VeiculoId] [uniqueidentifier] NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.RegistrosEntrada] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[RegistrosSaida] (
    [Id] [uniqueidentifier] NOT NULL,
    [HoraSaida] [datetime] NOT NULL,
    [ValorTotal] [real] NOT NULL,
    [RegistroEntradaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.RegistrosSaida] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Veiculos] (
    [Id] [uniqueidentifier] NOT NULL,
    [Placa] [varchar](100) NOT NULL,
    [Modelo] [varchar](100) NOT NULL,
    [Marca] [varchar](100) NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Veiculos] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Usuarios] (
    [Id] [uniqueidentifier] NOT NULL,
    [Nome] [varchar](150) NOT NULL,
    [Ativo] [bit] NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [UserId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Usuarios] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_EmpresaId] ON [dbo].[Competencias]([EmpresaId])
CREATE INDEX [IX_VeiculoId] ON [dbo].[RegistrosEntrada]([VeiculoId])
CREATE INDEX [IX_EmpresaId] ON [dbo].[RegistrosEntrada]([EmpresaId])
CREATE INDEX [IX_Id] ON [dbo].[RegistrosSaida]([Id])
CREATE INDEX [IX_EmpresaId] ON [dbo].[Usuarios]([EmpresaId])
ALTER TABLE [dbo].[Competencias] ADD CONSTRAINT [FK_dbo.Competencias_dbo.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresas] ([Id])
ALTER TABLE [dbo].[RegistrosEntrada] ADD CONSTRAINT [FK_dbo.RegistrosEntrada_dbo.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresas] ([Id])
ALTER TABLE [dbo].[RegistrosEntrada] ADD CONSTRAINT [FK_dbo.RegistrosEntrada_dbo.Veiculos_VeiculoId] FOREIGN KEY ([VeiculoId]) REFERENCES [dbo].[Veiculos] ([Id])
ALTER TABLE [dbo].[RegistrosSaida] ADD CONSTRAINT [FK_dbo.RegistrosSaida_dbo.RegistrosEntrada_Id] FOREIGN KEY ([Id]) REFERENCES [dbo].[RegistrosEntrada] ([Id])
ALTER TABLE [dbo].[Usuarios] ADD CONSTRAINT [FK_dbo.Usuarios_dbo.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresas] ([Id])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201801260127271_AutomaticMigration', N'GEA.AvaliacaoTecnica.Infra.Data.Migrations.Configuration',  0x1F8B0800000000000400E55DDD6EE3B815BE2FD07710745964AD2483026D60EF22E324BB4127C9344E82DE0D188976889528AF44054917FB64BDE823F5154AD91425FE49D49FE34C303733FCF9481E7EE7F0903AC7F3BFFFFC77FAD34B143ACF3049518C67EED1E4D07520F6E300E1D5CCCDC8F287BFB93FFDF8E73F4DCF83E8C57928DA7DCADBD19E389DB94F84AC4F3C2FF59F6004D24984FC244EE32599F871E48120F68E0F0FFFEE1D1D799042B814CB71A6B7192628829B7FD07FCE63ECC335C940781507304C5939AD596C509D6B10C1740D7C38737F3E3F9D9C3E8310011FC477D0C7C807934BBC4CC0E40C1030A15804BE10D739A54DE8F416305CBA0EC0382680D0C99FDCA770419218AF166B5A00C2BBD735A4ED96204C215BD449D9DC767D87C7F9FABCB26301E5672989A39680479F98C03CB97B27B1BB5CA054A4E754F4E4355FF546AC33771E476B48E8AE23E03AF27827F330C9DB1A047F46DB223CD96EDBA48274E0D4B43FE04CA284CBFF1C38F32C2459026718662401E181F3357B0C91FF0FF87A17FF0AF10C6761585D065D08AD130A68D1D7245EC384BCDEC2255BDC65E03A9ED8CF933BF26E953E6CCD19A27FBFA66383C710729278B5DDAF607A8AE302829212DE51AEB7867900619C7C4E32C2A1165429C38E405F32CA8F9E40E774EFC273FC8C28BD0AA8CF711C42805B63FD330394870108E0063595602F31F974DC1A7481A80DA16CE3EB24095DA9EB5C81972F10AFC8D3CCFD2B355C17E80506450103BEA7F4A4249EB924C9BA48669DC014F4244E6EBFE6200029493AD0E71A3CA3D54667F593739D5B186EEAD327B4DE1AC6AAC67EE3ED2E9238BA8D43D13414D5DF167196F874F8BBD8DCE60E242B48C4294EBDD2F2D4DA233E8F5EB688A17C603B740BFE0DE2454CF725AC5188A3C39134826AF5EE873D43E021A7620431E9694C46D2C65BB8423964AAD5C7A2962A4542C7D6E9A4A109D7B9422F4DED0AFDB59DF07D9A810419E6CB2A75F394AA94F9C9F5BA7959DB0C69B13D6D8784F6816DC82F7102B84C7B3A34737AAB58EDFE6C7E80C8CFC2B8A720DEED09DFC3A2C8277D93E5696B02170005F593DEB4F8A628B73A756D43A349D4B76E6B1819B1ACA4CEDB9AA5CE9A344ABD68D7CBC792B660106BB9C1FAE0B692C97388ABDF1DDD8BB0E78D4DE2CE7E5A2F45BDC7330826DDAA371F9D348C6B7C2FDD62281F58ABBE8674C5BBBF486CE45FE7AC8C352E48DE62B97B71D9697148365D76E4C3B4930AB31B4A4F1566281F5885AFE39C44664A8FE3F79F12F4DCFB997218B7FF3E85C97E9EBD75378716777BF95C35DDFD6DD4F0344DF337AB7C327A07814F485CE3390E1CCBFBCC96891A13447949D50EADA9A2D199CDDCBF28926C1E859BA672142E4111FD4841A76A0A1388F3CF5273BA17141861A2EA34C23E5A83D06E2252774BA390EF0F1F48AE39836B88033A4F3B81DBCCA0A268EA44F87892DD6A12D7D4AB90C98E637A07B389030DDEA6CA37764F10F9703899A894B01D4C43BB06720F4CBFDA69ED9084B57BD17D1E3BE4A0EC0FD95A20E50561143BA7B860E528DC81DB899D9326F206764E12B8CD0C2AAF916FC231F95037EDBAF1842F779BBBC7F65C327E13D8D5596998C00EB86310E87B381B751F894D3B5CFBC5B8DC6521E6C49E3F75DF9A77C6A19A49EC80473502DE3F2E6D3DFC3C248BF680497133932EC13C644BB967D38B13BB6AA7EC16283323C75F40A23235759DF27EA1639D4232118A094A07C3E9D500C15F3FF8A9AB4029E7B22D2473208D80ACBE018E9D46BA45F2B3BC01A2FC3CAC40F0034282A890455D99F29DAAD2BAE19396CC67FB1B215F946ED3143DB1BF0356704B3EC9AF2FA2385A88CAF0186E1698C5E5A6C3F546273C2DFD3ADC665A6C4C0F412A0F90CD9CD3FAE6ADBCF3A13827FBE315DC52BD7B8B4A790C524554EB5A5A399795A99766A546142677721CB5D3C6CAA96268F496ACFDA5CA32C483AD4624751E523FB114EF75FC34E775536F1BA6CD0AA69E219E7B7A05D66B845795F86E56E22CB6C1DDF31F16ED039CA32D86E7A79A38673E5B3E128913B08252ED263A055EA02425F94BEB23C81F51E741A43433F92E8643B21855E39EA87B581C9F45A7FCEFDB8E9641EF8283A37A830CF782AE3F8F8FDB8802EA49A6F676F2607C108244F36D601E875984CDEEADB977112B5D4528CAEC51AAA1D255A46A794B34162FADA0B1727B343168BA8A27D6D8231A43A7ABE0C646F6E394D1D455E0B2B48D0CF8A5431480F12E62C6123F8454E1C41A1571EA490AA0DC7F1415946CA3ACD6564ACF4DED180A6F38602C94DDD8731C45178291AB3042454BB5D2E8532B2A89C1C20297C4AAEF989E8AEF39064D1BAE1C16746D441887B642FC6B1546A8B0C72B6260AB5045598B13AA7C44160E28F3DBB219EB43DB66E9BE3A26F5B523B420BEA1FF78B467577899F4869BBD19AB1ACCA8B853ACBCC539A246340AA7895AFD1DD397DFEFC720AEE185C382B2C69EE390954508560158518B7B080BF713EE21ACAC05CA36784F00D9167DC724E42F356390B078426E4F4263CF7148B88D71ABF6DF96D823B078B52A042B7A9BC3BC085AAB021565EF9ECECA6396DC848FCE1FB5A4C7AB297B486AFEC502E56569DBC475A8A89E5190BF2A2D5E5302A32DF517BF85F310D1F5960DAE00464B98926DE4A77B7C78742CFDBEC1FEFCD68097A641A87988B3FEC1814B1CC09799FBBBF3C7EEC35B338C7ECB20CA3F81A2258249CFDCFF00104886C9FD4F60EE27F5CEFCEF04A3CBFB7F4464E89C7F84DB43CA19FFCFF4B87D02899256D837EC57258699B739C48973F9AF6F1CE5C0B949A81A9F388794D44344FE5A126B8094FB77AD8D9A0C781D413639157DF2DB8702D566AF77518B5D70A639E5FA5D734793F9DCD99C8B99CF03D92825AFB9938DE228BD6CD447B3974DE9B3FBC57C0BD1F794B992FADACFF311525F3BB92CC6C4D7DE766117F432E78EEE17B1FAA4720E75668A899A83A156D330073BDE77401D73CEE2BBA64E358550BB1D1D0E502141B0CB7D669F4E3D31C5701FAD5CFFBC3E7E4BE912EA6D0CA0EB9727D32982DCFCD57EEC94953D8C111F3A17AFC3B65A67DDF5CCE51B22ED69E7A974DF57CE1C77ADBAA4ADED930D317F9EDB0B1BF25EF2DC063A53B8DBD5253F6EDFCF10F347B8FD3B3BDAE4AA0DB4F7C2E78CAE396EFBCE81FAC8E2B7E681F431AF7C769342BAE52D34668F35258F6D3FE1519FF831D7F9AD2F5C17A36F4A2FABCB2ED38D618CDB97F1954348194769A11BAF31E9C634AE657E5AED98AD72D8EA52D874A3187363647C6EC6157C5EA3C33725B0BC41F69BC43521FCB745A6913665C9C48B7790D5D6615975370363CCDE9EE7A949FA234470ED0F3B06CD3FEBAA10922910E28CF634BFACEB523567A19223344AEE981A5643FD82CA7F17423D9314AD4A88FC3F0FC1D0173C02DEE6122FE3C2379166543451023808252C01A709414BE0135AEDC334DDFC66D90308B38D481F6170896F32B2CE085D328C1EC3D7AA307207A76EFC4D829C38E7E9CD7AF3EB5B432C814E13E56F7537F87386C280CFFB42F3566780C83DA79F212DDFEE2555620257AF1CE93AC696404C7CDCE1BB83D13AA460E90D5E8067D8656EF729FC0257C07F2DA2A3CC20CD1B218A7D7A86C02A0151CA30CAFEF49F94C341F4F2E3FF01537FE46635670000 , N'6.2.0-61023')

